<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>R_RTOS: Mutex</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">R_RTOS
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">DistributedRealTimeOperatingSystemfortheARMCortexMArchitecture</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__Mutex.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Mutex<div class="ingroups"><a class="el" href="group__Synchronization.html">Synchronization</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions for creating, initializing, maintaining Mutexes.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga32d6e6d282c1faebb70e25191341863b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="R__RTOS__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mutex.html#ga32d6e6d282c1faebb70e25191341863b">mtx_InitMtxs</a> (void)</td></tr>
<tr class="memdesc:ga32d6e6d282c1faebb70e25191341863b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the mutex functionality.  <a href="#ga32d6e6d282c1faebb70e25191341863b">More...</a><br /></td></tr>
<tr class="separator:ga32d6e6d282c1faebb70e25191341863b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f6bf3e114fdf05a709513a216c4651d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="R__RTOS__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mutex.html#ga6f6bf3e114fdf05a709513a216c4651d">mtx_TakeMtx</a> (<a class="el" href="R__RTOS__inc_8h.html#ac82ec54129091dcecd0e68cacf585078">PTskTCB</a> const tsk, const <a class="el" href="R__RTOS__inc_8h.html#abac35ae6bbb5052a5b291ab0e944250d">MtxNr</a> mtxNr, const <a class="el" href="R__RTOS__inc_8h.html#aed568e9fa30417e4671c4932c04bdbae">SysTicks</a> maxSysTicksToWait)</td></tr>
<tr class="memdesc:ga6f6bf3e114fdf05a709513a216c4651d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to take the mutex with the given number for the specified task.  <a href="#ga6f6bf3e114fdf05a709513a216c4651d">More...</a><br /></td></tr>
<tr class="separator:ga6f6bf3e114fdf05a709513a216c4651d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga146486152149ed4fb950b282d1648804"><td class="memItemLeft" align="right" valign="top"><a class="el" href="R__RTOS__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mutex.html#ga146486152149ed4fb950b282d1648804">mtx_GiveMtx</a> (<a class="el" href="R__RTOS__inc_8h.html#ac82ec54129091dcecd0e68cacf585078">PTskTCB</a> const tsk, const <a class="el" href="R__RTOS__inc_8h.html#abac35ae6bbb5052a5b291ab0e944250d">MtxNr</a> mtxNr)</td></tr>
<tr class="memdesc:ga146486152149ed4fb950b282d1648804"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the mutex with the given number.  <a href="#ga146486152149ed4fb950b282d1648804">More...</a><br /></td></tr>
<tr class="separator:ga146486152149ed4fb950b282d1648804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0cd9f598fa911c49a2574f5e421c509e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="R__RTOS__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Mutex.html#ga0cd9f598fa911c49a2574f5e421c509e">mtx_GiveUpOnMtx</a> (<a class="el" href="R__RTOS__inc_8h.html#ac82ec54129091dcecd0e68cacf585078">PTskTCB</a> const tsk)</td></tr>
<tr class="memdesc:ga0cd9f598fa911c49a2574f5e421c509e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give up on waiting for the mutex blocking the specified task.  <a href="#ga0cd9f598fa911c49a2574f5e421c509e">More...</a><br /></td></tr>
<tr class="separator:ga0cd9f598fa911c49a2574f5e421c509e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions for creating, initializing, maintaining Mutexes. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga146486152149ed4fb950b282d1648804"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="R__RTOS__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a> mtx_GiveMtx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="R__RTOS__inc_8h.html#ac82ec54129091dcecd0e68cacf585078">PTskTCB</a> const&#160;</td>
          <td class="paramname"><em>tsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="R__RTOS__inc_8h.html#abac35ae6bbb5052a5b291ab0e944250d">MtxNr</a>&#160;</td>
          <td class="paramname"><em>mtxNr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases the mutex with the given number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tsk</td><td>Pointer to the task's TskTcb </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtxNr</td><td>Number of the mutex to be released </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the success of the operation</dd></dl>
<p>The original priority of the task is restored. The next task in the mutex queue (if any) is given ownership the mutex and set to the suspended task state. The mutex queue is adjusted automatically. </p>

</div>
</div>
<a class="anchor" id="ga0cd9f598fa911c49a2574f5e421c509e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="R__RTOS__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a> mtx_GiveUpOnMtx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="R__RTOS__inc_8h.html#ac82ec54129091dcecd0e68cacf585078">PTskTCB</a> const&#160;</td>
          <td class="paramname"><em>tsk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Give up on waiting for the mutex blocking the specified task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tsk</td><td>Task that gives up on the mutex its waiting on </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RetCode </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RET_OK</td><td>Success </td></tr>
    <tr><td class="paramname">RET_NOK</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga32d6e6d282c1faebb70e25191341863b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="R__RTOS__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a> mtx_InitMtxs </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the mutex functionality. </p>
<dl class="section return"><dt>Returns</dt><dd>Return the success of the operation </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RET_OK</td><td>Success! </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Mutexes need to be initialized before usage! Usually this takes place during initialization of the OS. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6f6bf3e114fdf05a709513a216c4651d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="R__RTOS__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a> mtx_TakeMtx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="R__RTOS__inc_8h.html#ac82ec54129091dcecd0e68cacf585078">PTskTCB</a> const&#160;</td>
          <td class="paramname"><em>tsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="R__RTOS__inc_8h.html#abac35ae6bbb5052a5b291ab0e944250d">MtxNr</a>&#160;</td>
          <td class="paramname"><em>mtxNr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="R__RTOS__inc_8h.html#aed568e9fa30417e4671c4932c04bdbae">SysTicks</a>&#160;</td>
          <td class="paramname"><em>maxSysTicksToWait</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempts to take the mutex with the given number for the specified task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tsk</td><td>Pointer to the task's TskTcb </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtxNr</td><td>Number of the mutex to be taken </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxSysTicksToWait</td><td>Maximum number of SysTicks to wait until the task is unblocked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the success of the operation</dd></dl>
<p>If the mutex is not yet taken/occupied, the task requesting this mutex is now occupying the mutex. The execution of the task is continued.</p>
<p>If the mutex is already taken/occupied when the task tries to take it, the task is queued into the mutex queue. If its priority is higher than the task occupying the mutex's priority, the task occupying the mutex's priority is adjusted. =&gt; priority inheritance.</p>
<p>The mechanism ensures that no lower priority task, whose priority is still higher than the task's occupying the mutex priority, is executed as long as the high priority task is waiting on the mutex. Further tasks trying to take the mutex are queued into the mutex list according to their priority. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
