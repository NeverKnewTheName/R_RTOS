<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>R_RTOS: R_RTOS_msgQueuing.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">R_RTOS
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">DistributedRealTimeOperatingSystemfortheARMCortexMArchitecture</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_r___r_t_o_s__msg_queuing_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">R_RTOS_msgQueuing.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Services for creating, managing and maintaining message queues for IPC.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_r___r_t_o_s__msg_queuing_8h_source.html">R_RTOS_msgQueuing.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_r___r_t_o_s__mem_mngr_8h_source.html">R_RTOS_memMngr.h</a>&quot;</code><br />
<code>#include &quot;R_RTOS_monitor.h&quot;</code><br />
<code>#include &quot;<a class="el" href="_r___r_t_o_s___bit_magic_8h_source.html">R_RTOS_BitMagic.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6dd0747b94c7fe61d3362ddb3658de47"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r___r_t_o_s__msg_queuing_8c.html#a6dd0747b94c7fe61d3362ddb3658de47">msgQ_emptyMsgQ</a> (<a class="el" href="_r___r_t_o_s__msg_queuing_8h.html#a75abf121236559e6faf113d8ef3b656b">MsgQ</a> *const queue)</td></tr>
<tr class="memdesc:a6dd0747b94c7fe61d3362ddb3658de47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty and clean up the whole message queue.  <a href="#a6dd0747b94c7fe61d3362ddb3658de47">More...</a><br /></td></tr>
<tr class="separator:a6dd0747b94c7fe61d3362ddb3658de47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5021589ccb12e1ea23175c686b5b9386"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r___r_t_o_s__msg_queuing_8c.html#a5021589ccb12e1ea23175c686b5b9386">msgQ_notifySubscrbrs</a> (<a class="el" href="_r___r_t_o_s__msg_queuing_8h.html#a5e6e412f1ef35f159ab8e724fa54206b">MQPrtcpnts</a> subLst)</td></tr>
<tr class="memdesc:a5021589ccb12e1ea23175c686b5b9386"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify all subscribers to the message queue about a new message.  <a href="#a5021589ccb12e1ea23175c686b5b9386">More...</a><br /></td></tr>
<tr class="separator:a5021589ccb12e1ea23175c686b5b9386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dbbd729d0b15f9c9e3799a855b187df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r___r_t_o_s__msg_queuing_8c.html#a6dbbd729d0b15f9c9e3799a855b187df">msgQ_initQueue</a> (<a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a> msgQID)</td></tr>
<tr class="memdesc:a6dbbd729d0b15f9c9e3799a855b187df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the message queue with the given QID.  <a href="#a6dbbd729d0b15f9c9e3799a855b187df">More...</a><br /></td></tr>
<tr class="separator:a6dbbd729d0b15f9c9e3799a855b187df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a008d36d5f9610703cccdfb29d3e16934"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r___r_t_o_s__msg_queuing_8c.html#a008d36d5f9610703cccdfb29d3e16934">msgQ_delQueue</a> (const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a> msgQID)</td></tr>
<tr class="memdesc:a008d36d5f9610703cccdfb29d3e16934"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the message queue with the given QID.  <a href="#a008d36d5f9610703cccdfb29d3e16934">More...</a><br /></td></tr>
<tr class="separator:a008d36d5f9610703cccdfb29d3e16934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07c1775bd63758d87e35942215262ae1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r___r_t_o_s__msg_queuing_8c.html#a07c1775bd63758d87e35942215262ae1">msgQ_regTskPub</a> (<a class="el" href="_r___r_t_o_s__inc_8h.html#ac82ec54129091dcecd0e68cacf585078">PTskTCB</a> const pubTsk, const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a> msgQID)</td></tr>
<tr class="memdesc:a07c1775bd63758d87e35942215262ae1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a task to the message queue related to the QID as a publisher.  <a href="#a07c1775bd63758d87e35942215262ae1">More...</a><br /></td></tr>
<tr class="separator:a07c1775bd63758d87e35942215262ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a982c33682340dd9b926f309ca64974dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r___r_t_o_s__msg_queuing_8c.html#a982c33682340dd9b926f309ca64974dc">msgQ_regTskSub</a> (<a class="el" href="_r___r_t_o_s__inc_8h.html#ac82ec54129091dcecd0e68cacf585078">PTskTCB</a> const subTsk, const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a> msgQID)</td></tr>
<tr class="memdesc:a982c33682340dd9b926f309ca64974dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a task to the message queue related to the QID as a subscriber.  <a href="#a982c33682340dd9b926f309ca64974dc">More...</a><br /></td></tr>
<tr class="separator:a982c33682340dd9b926f309ca64974dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb6491f21936b3c46c857b9c1b16adc9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r___r_t_o_s__msg_queuing_8c.html#acb6491f21936b3c46c857b9c1b16adc9">msgQ_regSysSub</a> (const <a class="el" href="_r___r_t_o_s__inc_8h.html#aad4b2141820674d80ce50eda2b38d594">SysFktID</a> subSysFktID, const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a> msgQID)</td></tr>
<tr class="memdesc:acb6491f21936b3c46c857b9c1b16adc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a system function to the message queue related to the QID as a subscriber.  <a href="#acb6491f21936b3c46c857b9c1b16adc9">More...</a><br /></td></tr>
<tr class="separator:acb6491f21936b3c46c857b9c1b16adc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16068791233d474203c8ff68143e5a81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r___r_t_o_s__msg_queuing_8c.html#a16068791233d474203c8ff68143e5a81">msgQ_unSub</a> (const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a> msgQID, const uint16_t id)</td></tr>
<tr class="memdesc:a16068791233d474203c8ff68143e5a81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsubscribe the participant specified by id from the message queue related to the QID.  <a href="#a16068791233d474203c8ff68143e5a81">More...</a><br /></td></tr>
<tr class="separator:a16068791233d474203c8ff68143e5a81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a357143e84c82b76875de6e0eee50819d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r___r_t_o_s__msg_queuing_8c.html#a357143e84c82b76875de6e0eee50819d">msgQ_pubDataToQ</a> (const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a> msgQID, const <a class="el" href="_r___r_t_o_s__inc_8h.html#a8ea958b1bdb766ed252183e4265af8a0">DataSize</a> size, const DataType type, <a class="el" href="_r___r_t_o_s__inc_8h.html#a3a6defa6e3e6852e9bc2b9a0cf774741">CData</a> const data)</td></tr>
<tr class="memdesc:a357143e84c82b76875de6e0eee50819d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish constant data of a given size and type to the message queue related to the QID.  <a href="#a357143e84c82b76875de6e0eee50819d">More...</a><br /></td></tr>
<tr class="separator:a357143e84c82b76875de6e0eee50819d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d3898f214f1dcfeb5e149a405a5c752"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r___r_t_o_s__msg_queuing_8c.html#a9d3898f214f1dcfeb5e149a405a5c752">msgQ_readDataFrmQ</a> (const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a> msgQID, const <a class="el" href="_r___r_t_o_s__inc_8h.html#a2ade6f7044e8201b1ef76ef623838b99">TskID</a> tskID, <a class="el" href="_r___r_t_o_s__inc_8h.html#aba6800899d47e1d3bcd43101b7d170a7">PMQData</a> *data)</td></tr>
<tr class="memdesc:a9d3898f214f1dcfeb5e149a405a5c752"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the most recent unread data from the message queue related to QID.  <a href="#a9d3898f214f1dcfeb5e149a405a5c752">More...</a><br /></td></tr>
<tr class="separator:a9d3898f214f1dcfeb5e149a405a5c752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab05ccd0f373085ed6713960f41a43e3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r___r_t_o_s__msg_queuing_8c.html#ab05ccd0f373085ed6713960f41a43e3a">msgQ_takeDataFrmQ</a> (const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a> msgQID, const <a class="el" href="_r___r_t_o_s__inc_8h.html#a2ade6f7044e8201b1ef76ef623838b99">TskID</a> tskID, <a class="el" href="_r___r_t_o_s__inc_8h.html#aba6800899d47e1d3bcd43101b7d170a7">PMQData</a> *data)</td></tr>
<tr class="separator:ab05ccd0f373085ed6713960f41a43e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a95ef1050e9432bfcb09f6cd52eb5cd9c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="_r___r_t_o_s__msg_queuing_8h.html#a75abf121236559e6faf113d8ef3b656b">MsgQ</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r___r_t_o_s__msg_queuing_8c.html#a95ef1050e9432bfcb09f6cd52eb5cd9c">msgQ_AR</a> [<a class="el" href="_r___r_t_o_s__inc_8h.html#a52faf4aa7e06cbb5ac31f24977abafee">AMOUNT_OF_MSGQ</a>]</td></tr>
<tr class="memdesc:a95ef1050e9432bfcb09f6cd52eb5cd9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of all message queues.  <a href="#a95ef1050e9432bfcb09f6cd52eb5cd9c">More...</a><br /></td></tr>
<tr class="separator:a95ef1050e9432bfcb09f6cd52eb5cd9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Services for creating, managing and maintaining message queues for IPC. </p>
<dl class="section author"><dt>Author</dt><dd>Christian Neuberger (<a href="#" onclick="location.href='mai'+'lto:'+'Neu'+'be'+'rge'+'rC'+'h50'+'34'+'4@t'+'h-'+'nue'+'rn'+'ber'+'g.'+'de'; return false;">Neube<span style="display: none;">.nosp@m.</span>rger<span style="display: none;">.nosp@m.</span>Ch503<span style="display: none;">.nosp@m.</span>44@t<span style="display: none;">.nosp@m.</span>h-nue<span style="display: none;">.nosp@m.</span>rnbe<span style="display: none;">.nosp@m.</span>rg.de</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>02.02.2016</dd></dl>
<p>Based upon a publish/subscribe model queues are introduced. Messages can be published to the queue and are then kept in a chronological order. Upon the publishing of a new message all subscribers are notified. For system subscribers a callback function is executed on the data. Task subscribers do have a mailbox which is maintained by the queue. The message counters within the mailbox are updated and the according event flag in the task is set.</p>
<p>Messages can be read or taken. Whilst the first keeps the message in the queue for others to read, the latter destroys the message immediately. The queue keeps track of its subscribers. If a message was read by all subscribers it is deleted automatically. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a008d36d5f9610703cccdfb29d3e16934"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a> msgQ_delQueue </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a>&#160;</td>
          <td class="paramname"><em>msgQID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete the message queue with the given QID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgQID</td><td>QID of the message queue to delete. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the success of the operation. </dd></dl>

</div>
</div>
<a class="anchor" id="a6dd0747b94c7fe61d3362ddb3658de47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">msgQ_emptyMsgQ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_r___r_t_o_s__msg_queuing_8h.html#a75abf121236559e6faf113d8ef3b656b">MsgQ</a> *const&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Empty and clean up the whole message queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>[in] Pointer to the queue to be deleted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RetCode Return the success of the operation</dd></dl>
<p>Empty and free resources for publishers, subscribers, data and the queue itself. </p>

</div>
</div>
<a class="anchor" id="a6dbbd729d0b15f9c9e3799a855b187df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a> msgQ_initQueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a>&#160;</td>
          <td class="paramname"><em>msgQID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the message queue with the given QID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgQID</td><td>QID of the message queue to initialize </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the success of the operation. </dd></dl>

</div>
</div>
<a class="anchor" id="a5021589ccb12e1ea23175c686b5b9386"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">msgQ_notifySubscrbrs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_r___r_t_o_s__msg_queuing_8h.html#a5e6e412f1ef35f159ab8e724fa54206b">MQPrtcpnts</a>&#160;</td>
          <td class="paramname"><em>subLst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notify all subscribers to the message queue about a new message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subLst</td><td>List of subscribers to the message queue </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the success of the operation</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is and shall only be called when a new message was published </dd></dl>

</div>
</div>
<a class="anchor" id="a357143e84c82b76875de6e0eee50819d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a> msgQ_pubDataToQ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a>&#160;</td>
          <td class="paramname"><em>msgQID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_r___r_t_o_s__inc_8h.html#a8ea958b1bdb766ed252183e4265af8a0">DataSize</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const DataType&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_r___r_t_o_s__inc_8h.html#a3a6defa6e3e6852e9bc2b9a0cf774741">CData</a> const&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish constant data of a given size and type to the message queue related to the QID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgQID</td><td>QID of the message queue to publish to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size of the data to publish </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of the data to publish </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Data to publish </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the success of the operation.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>the publishing instance needn't be registered to the message queue as a publisher. </dd></dl>

</div>
</div>
<a class="anchor" id="a9d3898f214f1dcfeb5e149a405a5c752"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a> msgQ_readDataFrmQ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a>&#160;</td>
          <td class="paramname"><em>msgQID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_r___r_t_o_s__inc_8h.html#a2ade6f7044e8201b1ef76ef623838b99">TskID</a>&#160;</td>
          <td class="paramname"><em>tskID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_r___r_t_o_s__inc_8h.html#aba6800899d47e1d3bcd43101b7d170a7">PMQData</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the most recent unread data from the message queue related to QID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgQID</td><td>QID of the message queue to read from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tskID</td><td>TskID of the task subscriber that wants to read from the message queue </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to a PMQData object that will receive the data and its parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the success of the operation.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>A task calling this function (via SVC) has to have registered to the message queue as a subscriber beforehand! </dd></dl>

</div>
</div>
<a class="anchor" id="acb6491f21936b3c46c857b9c1b16adc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a> msgQ_regSysSub </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="_r___r_t_o_s__inc_8h.html#aad4b2141820674d80ce50eda2b38d594">SysFktID</a>&#160;</td>
          <td class="paramname"><em>subSysFktID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a>&#160;</td>
          <td class="paramname"><em>msgQID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a system function to the message queue related to the QID as a subscriber. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subSysFktID</td><td>SysFktID of the system function to register to the message queue </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msgQID</td><td>QID of the message queue the system function shall be registered to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the success of the operation. </dd></dl>

</div>
</div>
<a class="anchor" id="a07c1775bd63758d87e35942215262ae1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a> msgQ_regTskPub </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_r___r_t_o_s__inc_8h.html#ac82ec54129091dcecd0e68cacf585078">PTskTCB</a> const&#160;</td>
          <td class="paramname"><em>pubTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a>&#160;</td>
          <td class="paramname"><em>msgQID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a task to the message queue related to the QID as a publisher. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pubTsk</td><td>Task to register to the message queue </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msgQID</td><td>QID of the message queue the task shall be registered to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the success of the operation. </dd></dl>

</div>
</div>
<a class="anchor" id="a982c33682340dd9b926f309ca64974dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a> msgQ_regTskSub </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_r___r_t_o_s__inc_8h.html#ac82ec54129091dcecd0e68cacf585078">PTskTCB</a> const&#160;</td>
          <td class="paramname"><em>subTsk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a>&#160;</td>
          <td class="paramname"><em>msgQID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a task to the message queue related to the QID as a subscriber. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">subTsk</td><td>Task to register to the message queue </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msgQID</td><td>QID of the message quuee the task shall be registered to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the success of the operation. </dd></dl>

</div>
</div>
<a class="anchor" id="ab05ccd0f373085ed6713960f41a43e3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a> msgQ_takeDataFrmQ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a>&#160;</td>
          <td class="paramname"><em>msgQID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_r___r_t_o_s__inc_8h.html#a2ade6f7044e8201b1ef76ef623838b99">TskID</a>&#160;</td>
          <td class="paramname"><em>tskID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_r___r_t_o_s__inc_8h.html#aba6800899d47e1d3bcd43101b7d170a7">PMQData</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd>DO NOT USE!</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgQID</td><td>QID of the message queue to take the data from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tskID</td><td>TskID of the task subscriber that wants to take from the message queue </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to a PMQData object that will receive the data and its parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the success of the operation. </dd></dl>

</div>
</div>
<a class="anchor" id="a16068791233d474203c8ff68143e5a81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_r___r_t_o_s__inc_8h.html#ae652fbd48bfccbcc4f573e8d45529404">RetCode</a> msgQ_unSub </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="_r___r_t_o_s__inc_8h.html#af4062436ea68555fee76b609fc7c82fc">QID</a>&#160;</td>
          <td class="paramname"><em>msgQID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unsubscribe the participant specified by id from the message queue related to the QID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msgQID</td><td>QID of the message queue to unsubscribe from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>ID of the participant to unsubscribe. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return the success of the operation. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a95ef1050e9432bfcb09f6cd52eb5cd9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">msgQ_AR[<a class="el" href="_r___r_t_o_s__inc_8h.html#a52faf4aa7e06cbb5ac31f24977abafee">AMOUNT_OF_MSGQ</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Array of all message queues. </p>
<p>Since accessing message queues shall be fast and constant an array is introduced. Queues can then be accessed by index (QID as index). Therefore the QIDs shall be in the range of AMOUNT_OF_MSGQ.</p>
<dl class="section warning"><dt>Warning</dt><dd>QIDs must be in the range of AMOUNT_OF_MSGQ! </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_74389ed8173ad57b461b9d623a1f3867.html">Source</a></li><li class="navelem"><a class="el" href="_r___r_t_o_s__msg_queuing_8c.html">R_RTOS_msgQueuing.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
